(()=>{"use strict";const e=function(e,t,n,l,i,a,s,r){var o,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),l&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),s?(o=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=o):i&&(o=r?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),o)if(c.functional){c._injectStyles=o;var u=c.render;c.render=function(e,t){return o.call(t),u(e,t)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,o):[o]}return{exports:e,options:c}}({mixins:[Fieldtype],data:function(){return{internal:{type:null,url:null,newWindow:null,taxonomy:null,container:null,collection:null,asset:null,term:null,entry:null,text:null,aria:null,title:null,append:null},uuid:this._uid}},mounted:function(){var e=this;null!==this.value&&Object.keys(this.value).forEach((function(t){e.internal[t]=e.value[t]})),1===this.types.length&&(this.internal.type=this.types[0].value)},watch:{value:function(e){var t=this;Object.keys(e).forEach((function(n){t.internal[n]=e[n]}))},internal:{deep:!0,handler:function(e,t){var n=this;Object.keys(e).map((function(t){var l=n.value;null!==l&&0!==l.length||(l={}),l[t]=e[t],n.update(l)}))}},"internal.container":function(e,t){e!==t&&null!==t&&(this.internal.asset=null)},"internal.collection":function(e,t){e!==t&&null!==t&&(this.internal.entry=null)},"internal.taxonomy":function(e,t){e!==t&&null!==t&&(this.internal.term=null)},"internal.type":function(e,t){e!==t&&null!==t&&(this.internal.url="",this.internal.newWindow=!1,this.internal.asset=[],this.internal.term=[],this.internal.page=[],this.internal.entry=[],this.internal.collection="",this.internal.taxonomy="",this.internal.container="",this.internal.text="",this.internal.aria="",this.internal.title="",this.internal.append=""),"entry"===e&&1===this.collections.length&&(this.internal.collection=this.collections[0].value),"term"===e&&1===this.taxonomies.length&&(this.internal.taxonomy=this.taxonomies[0].value),"asset"===e&&1===this.containers.length&&(this.internal.container=this.containers[0].value)}},computed:{replicatorPreview:function(){if(this.value)return __("link-it::fieldtype."+this.value.type)},types:function(){var e=this.config.types||["asset","entry","custom","email","term","tel","url"];return 0===this.containers.length&&-1!==e.indexOf("asset")&&e.splice(e.indexOf("asset"),1),0===this.collections.length&&-1!==e.indexOf("entry")&&e.splice(e.indexOf("entry"),1),0===this.taxonomies.length&&-1!==e.indexOf("term")&&e.splice(e.indexOf("term"),1),e.map((function(e){return{value:e,label:__("link-it::fieldtype."+e)}}))},taxonomies:function(){return this.config.taxonomies?_.map(this.config.taxonomies,(function(e){return{value:e,label:__(e)}})):[]},containers:function(){return this.config.containers?_.map(this.config.containers,(function(e){return{value:e,label:__(e)}})):[]},collections:function(){return this.config.collections?_.map(this.config.collections,(function(e){return{value:e,label:__(e)}})):[]},urlPlaceholder:function(){switch(this.internal.type){case"email":return __("link-it::fieldtype.email_placeholder");case"url":return __("link-it::fieldtype.url_placeholder");case"tel":return __("link-it::fieldtype.tel_placeholder");case"custom":return __("link-it::fieldtype.custom_placeholder")}return""},textPrepend:function(){switch(this.internal.type){case"email":return"mailto:";case"tel":return"tel:"}return""}},ready:function(){this.config=Object.assign({aria:!1,title:!1,append:!1,newWindow:!1},this.config)}},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"flex flex-wrap items-center"},[n("v-select",{directives:[{name:"show",rawName:"v-show",value:e.types.length>1,expression:"types.length > 1"}],staticClass:"w-1/5 mr-2",attrs:{options:e.types,reduce:function(e){return e.value}},model:{value:e.internal.type,callback:function(t){e.$set(e.internal,"type",t)},expression:"internal.type"}}),e._v(" "),"term"===e.internal.type?n("v-select",{directives:[{name:"show",rawName:"v-show",value:e.taxonomies.length>1,expression:"taxonomies.length > 1"}],staticClass:"w-1/5",attrs:{options:e.taxonomies,reduce:function(e){return e.value}},model:{value:e.internal.taxonomy,callback:function(t){e.$set(e.internal,"taxonomy",t)},expression:"internal.taxonomy"}}):e._e(),e._v(" "),e._l(e.taxonomies,(function(t,l){return"term"===e.internal.type&&e.internal.taxonomy===t.value?n("publish-field-meta",{key:l,staticClass:"ml-2 flex-1",attrs:{config:{handle:"taxonomies",type:"taxonomy",taxonomy:t.value},"initial-value":e.internal.term},scopedSlots:e._u([{key:"default",fn:function(l){var i=l.meta,a=l.value,s=l.loading;l.config;return n("div",{},[s?e._e():n("relationship-fieldtype",{attrs:{config:{handle:"taxonomies",type:"taxonomy",taxonomy:t.value,mode:"select",max_items:1},value:a,meta:i,handle:"taxonomies"},on:{input:function(t){e.internal.term=t}}})],1)}}],null,!0)}):e._e()})),e._v(" "),"asset"===e.internal.type?n("v-select",{directives:[{name:"show",rawName:"v-show",value:e.containers.length>1,expression:"containers.length > 1"}],staticClass:"w-1/5",attrs:{options:e.containers,reduce:function(e){return e.value}},model:{value:e.internal.container,callback:function(t){e.$set(e.internal,"container",t)},expression:"internal.container"}}):e._e(),e._v(" "),"asset"===e.internal.type&&e.internal.container?n("publish-field-meta",{staticClass:"w-full assets-fieldtype mt-2",attrs:{config:{type:"assets"},"initial-value":e.internal.asset,"initial-meta":{container:e.internal.container}},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.meta,i=t.value,a=t.loading;return n("div",{},[a?e._e():n("assets-fieldtype",{attrs:{config:{container:e.internal.container,mode:"list",allow_uploads:!0,max_files:1,type:"assets",display:"assets",component:"assets",handle:"assets"},value:i,meta:l,handle:"asset"},on:{input:function(t){e.internal.asset=t}}})],1)}}],null,!1,4262724158)}):e._e(),e._v(" "),"entry"===e.internal.type?n("publish-field-meta",{staticClass:"flex-1",class:e.internal.entry?"-mb-1":"",attrs:{config:{handle:"collections",type:"entries",collections:e.config.collections},"initial-value":e.internal.entry},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.meta,i=t.value,a=t.loading;return n("div",{},[a?e._e():n("relationship-fieldtype",{ref:"entry",attrs:{config:{handle:"collections",type:"entries",collections:e.config.collections,mode:"default",max_items:1},value:i,meta:l,handle:"entry"},on:{input:function(t){e.internal.entry=t},"meta-updated":function(e){l.data=e.data}}})],1)}}],null,!1,2538572409)}):e._e(),e._v(" "),-1!==["url","custom","email","tel"].indexOf(e.internal.type)?n("text-input",{staticClass:"flex-1",attrs:{prepend:e.textPrepend,type:"text",placeholder:e.urlPlaceholder},model:{value:e.internal.url,callback:function(t){e.$set(e.internal,"url",t)},expression:"internal.url"}}):e._e(),e._v(" "),e.internal.type&&e.config.text?n("div",{staticClass:"w-full flex items-center mt-2"},[n("label",{staticClass:"w-1/5 flex-no-shrink",attrs:{for:"text"}},[e._v(e._s(e.__("link-it::fieldtype.text_label")))]),e._v(" "),n("text-input",{staticClass:"flex-1 ml-2",attrs:{type:"text",placeholder:e.__("link-it::fieldtype.text_placeholder")},model:{value:e.internal.text,callback:function(t){e.$set(e.internal,"text",t)},expression:"internal.text"}})],1):e._e(),e._v(" "),e.internal.type&&e.config.aria?n("div",{staticClass:"w-full flex items-center mt-2"},[n("label",{staticClass:"w-1/5 flex-no-shrink",attrs:{for:"aria"}},[e._v(e._s(e.__("link-it::fieldtype.aria_label")))]),e._v(" "),n("text-input",{staticClass:"flex-1 ml-2",attrs:{type:"text",placeholder:e.__("link-it::fieldtype.aria_placeholder")},model:{value:e.internal.aria,callback:function(t){e.$set(e.internal,"aria",t)},expression:"internal.aria"}})],1):e._e(),e._v(" "),e.internal.type&&e.config.title?n("div",{staticClass:"w-full flex items-center mt-2"},[n("label",{staticClass:"w-1/5 flex-no-shrink",attrs:{for:"title"}},[e._v(e._s(e.__("link-it::fieldtype.title_label")))]),e._v(" "),n("text-input",{staticClass:"flex-1 ml-2",attrs:{type:"text",placeholder:e.__("link-it::fieldtype.title_placeholder")},model:{value:e.internal.title,callback:function(t){e.$set(e.internal,"title",t)},expression:"internal.title"}})],1):e._e(),e._v(" "),e.internal.type&&e.config.append&&"custom"!==e.internal.type?n("div",{staticClass:"w-full flex items-center mt-2"},[n("label",{staticClass:"w-1/5 flex-no-shrink",attrs:{for:"append"}},[e._v(e._s(e.__("link-it::fieldtype.append_label")))]),e._v(" "),n("text-input",{staticClass:"flex-1 ml-2",attrs:{type:"text",placeholder:e.__("link-it::fieldtype.append_placeholder")},model:{value:e.internal.append,callback:function(t){e.$set(e.internal,"append",t)},expression:"internal.append"}})],1):e._e(),e._v(" "),e.internal.type&&e.config.newWindow?n("div",{staticClass:"ml-auto w-full mt-2 flex items-center"},[n("toggle-fieldtype",{attrs:{handle:"newWindow"},model:{value:e.internal.newWindow,callback:function(t){e.$set(e.internal,"newWindow",t)},expression:"internal.newWindow"}}),e._v(" "),n("label",{staticClass:"ml-1 font-normal",on:{click:function(t){e.internal.newWindow=!e.internal.newWindow}}},[e._v(e._s(e.__("link-it::fieldtype.new_window")))])],1):e._e()],2)])}),[],!1,null,null,null).exports;Statamic.booting((function(){Statamic.component("link_it-fieldtype",e)}))})();